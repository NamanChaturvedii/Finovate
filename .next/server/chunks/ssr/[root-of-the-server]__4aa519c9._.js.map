{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 191, "column": 0}, "map": {"version":3,"sources":["file:///D:/wealth/lib/arcjet.js"],"sourcesContent":["import arcjet, { tokenBucket } from \"@arcjet/next\";\r\n\r\nconst aj = arcjet({\r\n  key: process.env.ARCJET_KEY,\r\n  characteristics: [\"userId\"], // Track based on Clerk userId\r\n  rules: [\r\n    // Rate limiting specifically for collection creation\r\n    tokenBucket({\r\n      mode: \"LIVE\",\r\n      refillRate: 10, // 10 collections\r\n      interval: 3600, // per hour\r\n      capacity: 10, // maximum burst capacity\r\n    }),\r\n  ],\r\n});\r\n\r\nexport default aj;"],"names":[],"mappings":";;;AAAA;AAAA;AAAA;;AAEA,MAAM,KAAK,CAAA,GAAA,yJAAA,CAAA,UAAM,AAAD,EAAE;IAChB,KAAK,QAAQ,GAAG,CAAC,UAAU;IAC3B,iBAAiB;QAAC;KAAS;IAC3B,OAAO;QACL,qDAAqD;QACrD,CAAA,GAAA,+IAAA,CAAA,cAAW,AAAD,EAAE;YACV,MAAM;YACN,YAAY;YACZ,UAAU;YACV,UAAU;QACZ;KACD;AACH;uCAEe","debugId":null}},
    {"offset": {"line": 220, "column": 0}, "map": {"version":3,"sources":["file:///D:/wealth/actions/dashboard.js"],"sourcesContent":["\"use server\";\r\n\r\nimport aj from \"@/lib/arcjet\";\r\nimport { db } from \"@/lib/prisma\";\r\nimport { request } from \"@arcjet/next\";\r\nimport { auth } from \"@clerk/nextjs/server\";\r\nimport { revalidatePath } from \"next/cache\";\r\n\r\nconst serializeTransaction = (obj) => {\r\n    const serialized = { ...obj };\r\n    if (obj.balance) {\r\n        serialized.balance = obj.balance.toNumber();\r\n    }\r\n    if (obj.amount) {\r\n        serialized.amount = obj.amount.toNumber();\r\n    }\r\n    return serialized;\r\n};\r\n\r\nexport async function getUserAccounts() {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) {\r\n        throw new Error(\"User not found\");\r\n    }\r\n\r\n    try {\r\n        const accounts = await db.account.findMany({\r\n            where: { userId: user.id },\r\n            orderBy: { createdAt: \"desc\" },\r\n            include: {\r\n                _count: {\r\n                    select: {\r\n                        transactions: true,\r\n                    },\r\n                },\r\n            },\r\n        });\r\n\r\n        // Serialize accounts before sending to client\r\n        const serializedAccounts = accounts.map(serializeTransaction);\r\n\r\n        return serializedAccounts;\r\n    } catch (error) {\r\n        console.error(error.message);\r\n    }\r\n}\r\n\r\nexport async function createAccount(data) {\r\n    try {\r\n        const { userId } = await auth();\r\n        if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n        // Get request data for ArcJet\r\n        const req = await request();\r\n\r\n        // Check rate limit\r\n        const decision = await aj.protect(req, {\r\n            userId,\r\n            requested: 1, // Specify how many tokens to consume\r\n        });\r\n\r\n        if (decision.isDenied()) {\r\n            if (decision.reason.isRateLimit()) {\r\n                const { remaining, reset } = decision.reason;\r\n                console.error({\r\n                    code: \"RATE_LIMIT_EXCEEDED\",\r\n                    details: {\r\n                        remaining,\r\n                        resetInSeconds: reset,\r\n                    },\r\n                });\r\n\r\n                throw new Error(\"Too many requests. Please try again later.\");\r\n            }\r\n\r\n            throw new Error(\"Request blocked\");\r\n        }\r\n\r\n        const user = await db.user.findUnique({\r\n            where: { clerkUserId: userId },\r\n        });\r\n\r\n        if (!user) {\r\n            throw new Error(\"User not found\");\r\n        }\r\n\r\n        // Convert balance to float before saving\r\n        const balanceFloat = parseFloat(data.balance);\r\n        if (isNaN(balanceFloat)) {\r\n            throw new Error(\"Invalid balance amount\");\r\n        }\r\n\r\n        // Check if this is the user's first account\r\n        const existingAccounts = await db.account.findMany({\r\n            where: { userId: user.id },\r\n        });\r\n\r\n        // If it's the first account, make it default regardless of user input\r\n        // If not, use the user's preference\r\n        const shouldBeDefault =\r\n            existingAccounts.length === 0 ? true : data.isDefault;\r\n\r\n        // If this account should be default, unset other default accounts\r\n        if (shouldBeDefault) {\r\n            await db.account.updateMany({\r\n                where: { userId: user.id, isDefault: true },\r\n                data: { isDefault: false },\r\n            });\r\n        }\r\n\r\n        // Create new account\r\n        const account = await db.account.create({\r\n            data: {\r\n                ...data,\r\n                balance: balanceFloat,\r\n                userId: user.id,\r\n                isDefault: shouldBeDefault, // Override the isDefault based on our logic\r\n            },\r\n        });\r\n\r\n        // Serialize the account before returning\r\n        const serializedAccount = serializeTransaction(account);\r\n\r\n        revalidatePath(\"/dashboard\");\r\n        return { success: true, data: serializedAccount };\r\n    } catch (error) {\r\n        throw new Error(error.message);\r\n    }\r\n}\r\n\r\nexport async function getDashboardData() {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) {\r\n        throw new Error(\"User not found\");\r\n    }\r\n\r\n    // Get all user transactions\r\n    const transactions = await db.transaction.findMany({\r\n        where: { userId: user.id },\r\n        orderBy: { date: \"desc\" },\r\n    });\r\n\r\n    return transactions.map(serializeTransaction);\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 403, "column": 0}, "map": {"version":3,"sources":["file:///D:/wealth/actions/transaction.js"],"sourcesContent":["\"use server\";\r\n\r\nimport { auth } from \"@clerk/nextjs/server\";\r\nimport { db } from \"@/lib/prisma\";\r\nimport { revalidatePath } from \"next/cache\";\r\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\r\nimport aj from \"@/lib/arcjet\";\r\nimport { request } from \"@arcjet/next\";\r\n\r\nconst genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY);\r\n\r\nconst serializeAmount = (obj) => ({\r\n    ...obj,\r\n    amount: obj.amount.toNumber(),\r\n});\r\n\r\n// Create Transaction\r\nexport async function createTransaction(data) {\r\n    try {\r\n        const { userId } = await auth();\r\n        if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n        // Get request data for ArcJet\r\n        const req = await request();\r\n\r\n        // Check rate limit\r\n        const decision = await aj.protect(req, {\r\n            userId,\r\n            requested: 1, // Specify how many tokens to consume\r\n        });\r\n\r\n        if (decision.isDenied()) {\r\n            if (decision.reason.isRateLimit()) {\r\n                const { remaining, reset } = decision.reason;\r\n                console.error({\r\n                    code: \"RATE_LIMIT_EXCEEDED\",\r\n                    details: {\r\n                        remaining,\r\n                        resetInSeconds: reset,\r\n                    },\r\n                });\r\n\r\n                throw new Error(\"Too many requests. Please try again later.\");\r\n            }\r\n\r\n            throw new Error(\"Request blocked\");\r\n        }\r\n\r\n        const user = await db.user.findUnique({\r\n            where: { clerkUserId: userId },\r\n        });\r\n\r\n        if (!user) {\r\n            throw new Error(\"User not found\");\r\n        }\r\n\r\n        const account = await db.account.findUnique({\r\n            where: {\r\n                id: data.accountId,\r\n                userId: user.id,\r\n            },\r\n        });\r\n\r\n        if (!account) {\r\n            throw new Error(\"Account not found\");\r\n        }\r\n\r\n        // Calculate new balance\r\n        const balanceChange = data.type === \"EXPENSE\" ? -data.amount : data.amount;\r\n        const newBalance = account.balance.toNumber() + balanceChange;\r\n\r\n        // Create transaction and update account balance\r\n        const transaction = await db.$transaction(async (tx) => {\r\n            const newTransaction = await tx.transaction.create({\r\n                data: {\r\n                    ...data, // data getting\r\n                    userId: user.id,\r\n                    nextRecurringDate:\r\n                        data.isRecurring && data.recurringInterval  // checking if is true or not\r\n                            ? calculateNextRecurringDate(data.date, data.recurringInterval)\r\n                            : null,\r\n                },\r\n            });\r\n\r\n            await tx.account.update({\r\n                where: { id: data.accountId },\r\n                data: { balance: newBalance },\r\n            });\r\n\r\n            return newTransaction;\r\n        });\r\n\r\n        revalidatePath(\"/dashboard\");\r\n        revalidatePath(`/account/${transaction.accountId}`);\r\n\r\n        return { success: true, data: serializeAmount(transaction) };\r\n    } catch (error) {\r\n        throw new Error(error.message);\r\n    }\r\n}\r\n\r\nexport async function getTransaction(id) {  // for updating the transcation when clicked on it\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    const transaction = await db.transaction.findUnique({\r\n        where: {\r\n            id,\r\n            userId: user.id,\r\n        },\r\n    });\r\n\r\n    if (!transaction) throw new Error(\"Transaction not found\");\r\n\r\n    return serializeAmount(transaction);\r\n}\r\n\r\nexport async function updateTransaction(id, data) {\r\n    try {\r\n        const { userId } = await auth();\r\n        if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n        const user = await db.user.findUnique({\r\n            where: { clerkUserId: userId },\r\n        });\r\n\r\n        if (!user) throw new Error(\"User not found\");\r\n\r\n        // Get original transaction to calculate balance change\r\n        const originalTransaction = await db.transaction.findUnique({\r\n            where: {\r\n                id,\r\n                userId: user.id,\r\n            },\r\n            include: {\r\n                account: true,\r\n            },\r\n        });\r\n\r\n        if (!originalTransaction) throw new Error(\"Transaction not found\");\r\n\r\n        // Calculate balance changes\r\n        const oldBalanceChange =\r\n            originalTransaction.type === \"EXPENSE\"\r\n                ? -originalTransaction.amount.toNumber()\r\n                : originalTransaction.amount.toNumber();\r\n\r\n        const newBalanceChange =\r\n            data.type === \"EXPENSE\" ? -data.amount : data.amount;\r\n\r\n        const netBalanceChange = newBalanceChange - oldBalanceChange;\r\n\r\n        // Update transaction and account balance in a transaction\r\n        const transaction = await db.$transaction(async (tx) => {\r\n            const updated = await tx.transaction.update({\r\n                where: {\r\n                    id,\r\n                    userId: user.id,\r\n                },\r\n                data: {\r\n                    ...data,\r\n                    nextRecurringDate:\r\n                        data.isRecurring && data.recurringInterval\r\n                            ? calculateNextRecurringDate(data.date, data.recurringInterval)\r\n                            : null,\r\n                },\r\n            });\r\n\r\n            // Update account balance\r\n            await tx.account.update({\r\n                where: { id: data.accountId },\r\n                data: {\r\n                    balance: {\r\n                        increment: netBalanceChange,\r\n                    },\r\n                },\r\n            });\r\n\r\n            return updated;\r\n        });\r\n\r\n        revalidatePath(\"/dashboard\");\r\n        revalidatePath(`/account/${data.accountId}`);\r\n\r\n        return { success: true, data: serializeAmount(transaction) };\r\n    } catch (error) {\r\n        throw new Error(error.message);\r\n    }\r\n}\r\n\r\n// Get User Transactions\r\nexport async function getUserTransactions(query = {}) {\r\n    try {\r\n        const { userId } = await auth();\r\n        if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n        const user = await db.user.findUnique({\r\n            where: { clerkUserId: userId },\r\n        });\r\n\r\n        if (!user) {\r\n            throw new Error(\"User not found\");\r\n        }\r\n\r\n        const transactions = await db.transaction.findMany({\r\n            where: {\r\n                userId: user.id,\r\n                ...query,\r\n            },\r\n            include: {\r\n                account: true,\r\n            },\r\n            orderBy: {\r\n                date: \"desc\",\r\n            },\r\n        });\r\n\r\n        return { success: true, data: transactions };\r\n    } catch (error) {\r\n        throw new Error(error.message);\r\n    }\r\n}\r\n\r\n// Scan Receipt\r\nexport async function scanReceipt(file) {\r\n    try {\r\n        const model = genAI.getGenerativeModel({ model: \"gemini-1.5-flash\" });\r\n\r\n        // Convert File to ArrayBuffer\r\n        const arrayBuffer = await file.arrayBuffer();\r\n        // Convert ArrayBuffer to Base64\r\n        const base64String = Buffer.from(arrayBuffer).toString(\"base64\");\r\n\r\n        const prompt = `\r\n    Analyze this receipt image and extract the following information in JSON format:\r\n    - Total amount (just the number)\r\n    - Date (in ISO format)\r\n    - Description or items purchased (brief summary)\r\n    - Merchant/store name\r\n    - Suggested category (one of: housing,transportation,groceries,utilities,entertainment,food,shopping,healthcare,education,personal,travel,insurance,gifts,bills,other-expense )\r\n    \r\n    Only respond with valid JSON in this exact format:\r\n    {\r\n        \"amount\": number,\r\n        \"date\": \"ISO date string\",\r\n        \"description\": \"string\",\r\n        \"merchantName\": \"string\",\r\n        \"category\": \"string\"\r\n    }\r\n\r\n    If its not a recipt, return an empty object\r\n    `;\r\n\r\n        const result = await model.generateContent([\r\n            {\r\n                inlineData: {\r\n                    data: base64String,\r\n                    mimeType: file.type,\r\n                },\r\n            },\r\n            prompt,\r\n        ]);\r\n\r\n        const response = await result.response;\r\n        const text = response.text();\r\n        const cleanedText = text.replace(/```(?:json)?\\n?/g, \"\").trim();\r\n\r\n        try {\r\n            const data = JSON.parse(cleanedText);\r\n            return {\r\n                amount: parseFloat(data.amount),\r\n                date: new Date(data.date),\r\n                description: data.description,\r\n                category: data.category,\r\n                merchantName: data.merchantName,\r\n            };\r\n        } catch (parseError) {\r\n            console.error(\"Error parsing JSON response:\", parseError);\r\n            throw new Error(\"Invalid response format from Gemini\");\r\n        }\r\n    } catch (error) {\r\n        console.error(\"Error scanning receipt:\", error);\r\n        throw new Error(\"Failed to scan receipt\");\r\n    }\r\n}\r\n\r\n// Helper function to calculate next recurring date\r\nfunction calculateNextRecurringDate(startDate, interval) {\r\n    const date = new Date(startDate);\r\n\r\n    switch (interval) {\r\n        case \"DAILY\":\r\n            date.setDate(date.getDate() + 1);\r\n            break;\r\n        case \"WEEKLY\":\r\n            date.setDate(date.getDate() + 7);\r\n            break;\r\n        case \"MONTHLY\":\r\n            date.setMonth(date.getMonth() + 1);\r\n            break;\r\n        case \"YEARLY\":\r\n            date.setFullYear(date.getFullYear() + 1);\r\n            break;\r\n    }\r\n\r\n    return date;\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 738, "column": 0}, "map": {"version":3,"sources":["file:///D:/wealth/data/categories.js"],"sourcesContent":["export const defaultCategories = [\r\n  // Income Categories\r\n  {\r\n    id: \"salary\",\r\n    name: \"Salary\",\r\n    type: \"INCOME\",\r\n    color: \"#22c55e\", // green-500\r\n    icon: \"Wallet\",\r\n  },\r\n  {\r\n    id: \"freelance\",\r\n    name: \"Freelance\",\r\n    type: \"INCOME\",\r\n    color: \"#06b6d4\", // cyan-500\r\n    icon: \"Laptop\",\r\n  },\r\n  {\r\n    id: \"investments\",\r\n    name: \"Investments\",\r\n    type: \"INCOME\",\r\n    color: \"#6366f1\", // indigo-500\r\n    icon: \"TrendingUp\",\r\n  },\r\n  {\r\n    id: \"business\",\r\n    name: \"Business\",\r\n    type: \"INCOME\",\r\n    color: \"#ec4899\", // pink-500\r\n    icon: \"Building\",\r\n  },\r\n  {\r\n    id: \"rental\",\r\n    name: \"Rental\",\r\n    type: \"INCOME\",\r\n    color: \"#f59e0b\", // amber-500\r\n    icon: \"Home\",\r\n  },\r\n  {\r\n    id: \"other-income\",\r\n    name: \"Other Income\",\r\n    type: \"INCOME\",\r\n    color: \"#64748b\", // slate-500\r\n    icon: \"Plus\",\r\n  },\r\n\r\n  // Expense Categories\r\n  {\r\n    id: \"housing\",\r\n    name: \"Housing\",\r\n    type: \"EXPENSE\",\r\n    color: \"#ef4444\", // red-500\r\n    icon: \"Home\",\r\n    subcategories: [\"Rent\", \"Mortgage\", \"Property Tax\", \"Maintenance\"],\r\n  },\r\n  {\r\n    id: \"transportation\",\r\n    name: \"Transportation\",\r\n    type: \"EXPENSE\",\r\n    color: \"#f97316\", // orange-500\r\n    icon: \"Car\",\r\n    subcategories: [\"Fuel\", \"Public Transport\", \"Maintenance\", \"Parking\"],\r\n  },\r\n  {\r\n    id: \"groceries\",\r\n    name: \"Groceries\",\r\n    type: \"EXPENSE\",\r\n    color: \"#84cc16\", // lime-500\r\n    icon: \"Shopping\",\r\n  },\r\n  {\r\n    id: \"utilities\",\r\n    name: \"Utilities\",\r\n    type: \"EXPENSE\",\r\n    color: \"#06b6d4\", // cyan-500\r\n    icon: \"Zap\",\r\n    subcategories: [\"Electricity\", \"Water\", \"Gas\", \"Internet\", \"Phone\"],\r\n  },\r\n  {\r\n    id: \"entertainment\",\r\n    name: \"Entertainment\",\r\n    type: \"EXPENSE\",\r\n    color: \"#8b5cf6\", // violet-500\r\n    icon: \"Film\",\r\n    subcategories: [\"Movies\", \"Games\", \"Streaming Services\"],\r\n  },\r\n  {\r\n    id: \"food\",\r\n    name: \"Food\",\r\n    type: \"EXPENSE\",\r\n    color: \"#f43f5e\", // rose-500\r\n    icon: \"UtensilsCrossed\",\r\n  },\r\n  {\r\n    id: \"shopping\",\r\n    name: \"Shopping\",\r\n    type: \"EXPENSE\",\r\n    color: \"#ec4899\", // pink-500\r\n    icon: \"ShoppingBag\",\r\n    subcategories: [\"Clothing\", \"Electronics\", \"Home Goods\"],\r\n  },\r\n  {\r\n    id: \"healthcare\",\r\n    name: \"Healthcare\",\r\n    type: \"EXPENSE\",\r\n    color: \"#14b8a6\", // teal-500\r\n    icon: \"HeartPulse\",\r\n    subcategories: [\"Medical\", \"Dental\", \"Pharmacy\", \"Insurance\"],\r\n  },\r\n  {\r\n    id: \"education\",\r\n    name: \"Education\",\r\n    type: \"EXPENSE\",\r\n    color: \"#6366f1\", // indigo-500\r\n    icon: \"GraduationCap\",\r\n    subcategories: [\"Tuition\", \"Books\", \"Courses\"],\r\n  },\r\n  {\r\n    id: \"personal\",\r\n    name: \"Personal Care\",\r\n    type: \"EXPENSE\",\r\n    color: \"#d946ef\", // fuchsia-500\r\n    icon: \"Smile\",\r\n    subcategories: [\"Haircut\", \"Gym\", \"Beauty\"],\r\n  },\r\n  {\r\n    id: \"travel\",\r\n    name: \"Travel\",\r\n    type: \"EXPENSE\",\r\n    color: \"#0ea5e9\", // sky-500\r\n    icon: \"Plane\",\r\n  },\r\n  {\r\n    id: \"insurance\",\r\n    name: \"Insurance\",\r\n    type: \"EXPENSE\",\r\n    color: \"#64748b\", // slate-500\r\n    icon: \"Shield\",\r\n    subcategories: [\"Life\", \"Home\", \"Vehicle\"],\r\n  },\r\n  {\r\n    id: \"gifts\",\r\n    name: \"Gifts & Donations\",\r\n    type: \"EXPENSE\",\r\n    color: \"#f472b6\", // pink-400\r\n    icon: \"Gift\",\r\n  },\r\n  {\r\n    id: \"bills\",\r\n    name: \"Bills & Fees\",\r\n    type: \"EXPENSE\",\r\n    color: \"#fb7185\", // rose-400\r\n    icon: \"Receipt\",\r\n    subcategories: [\"Bank Fees\", \"Late Fees\", \"Service Charges\"],\r\n  },\r\n  {\r\n    id: \"other-expense\",\r\n    name: \"Other Expenses\",\r\n    type: \"EXPENSE\",\r\n    color: \"#94a3b8\", // slate-400\r\n    icon: \"MoreHorizontal\",\r\n  },\r\n];\r\n\r\nexport const categoryColors = defaultCategories.reduce((acc, category) => {\r\n  acc[category.id] = category.color;\r\n  return acc;\r\n}, {});"],"names":[],"mappings":";;;;AAAO,MAAM,oBAAoB;IAC/B,oBAAoB;IACpB;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;IACR;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;IACR;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;IACR;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;IACR;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;IACR;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;IACR;IAEA,qBAAqB;IACrB;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;QACN,eAAe;YAAC;YAAQ;YAAY;YAAgB;SAAc;IACpE;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;QACN,eAAe;YAAC;YAAQ;YAAoB;YAAe;SAAU;IACvE;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;IACR;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;QACN,eAAe;YAAC;YAAe;YAAS;YAAO;YAAY;SAAQ;IACrE;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;QACN,eAAe;YAAC;YAAU;YAAS;SAAqB;IAC1D;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;IACR;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;QACN,eAAe;YAAC;YAAY;YAAe;SAAa;IAC1D;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;QACN,eAAe;YAAC;YAAW;YAAU;YAAY;SAAY;IAC/D;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;QACN,eAAe;YAAC;YAAW;YAAS;SAAU;IAChD;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;QACN,eAAe;YAAC;YAAW;YAAO;SAAS;IAC7C;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;IACR;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;QACN,eAAe;YAAC;YAAQ;YAAQ;SAAU;IAC5C;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;IACR;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;QACN,eAAe;YAAC;YAAa;YAAa;SAAkB;IAC9D;IACA;QACE,IAAI;QACJ,MAAM;QACN,MAAM;QACN,OAAO;QACP,MAAM;IACR;CACD;AAEM,MAAM,iBAAiB,kBAAkB,MAAM,CAAC,CAAC,KAAK;IAC3D,GAAG,CAAC,SAAS,EAAE,CAAC,GAAG,SAAS,KAAK;IACjC,OAAO;AACT,GAAG,CAAC","debugId":null}},
    {"offset": {"line": 958, "column": 0}, "map": {"version":3,"sources":["file:///D:/wealth/app/%28main%29/transaction/create/page.jsx"],"sourcesContent":["// app/(main)/transaction/create/page.jsx\r\nimport { getUserAccounts } from \"@/actions/dashboard\";\r\nimport { getTransaction } from \"@/actions/transaction\";\r\nimport AddTransactionClient from \"../_components/add-transaction-client\";\r\nimport { defaultCategories } from \"@/data/categories\";\r\n\r\nexport default async function AddTransactionPage({ searchParams }) {\r\n    const accounts = await getUserAccounts();\r\n\r\n    let initialData = null;\r\n    const editId = searchParams?.edit ?? null;\r\n\r\n    if (editId) {\r\n        const transaction = await getTransaction(editId);\r\n        initialData = transaction;\r\n    }\r\n\r\n    return (\r\n        <AddTransactionClient\r\n            accounts={accounts}\r\n            categories={defaultCategories}\r\n            editMode={!!editId}\r\n            initialData={initialData}\r\n        />\r\n    );\r\n}\r\n"],"names":[],"mappings":"AAAA,yCAAyC;;;;;AACzC;AACA;;;;;;AAEA;;;;;;AAEe,eAAe,mBAAmB,EAAE,YAAY,EAAE;IAC7D,MAAM,WAAW,MAAM,CAAA,GAAA,oHAAA,CAAA,kBAAe,AAAD;IAErC,IAAI,cAAc;IAClB,MAAM,SAAS,cAAc,QAAQ;IAErC,IAAI,QAAQ;QACR,MAAM,cAAc,MAAM,CAAA,GAAA,sHAAA,CAAA,iBAAc,AAAD,EAAE;QACzC,cAAc;IAClB;IAEA,qBACI,8OAAC;QACG,UAAU;QACV,YAAY,kHAAA,CAAA,oBAAiB;QAC7B,UAAU,CAAC,CAAC;QACZ,aAAa;;;;;;AAGzB","debugId":null}}]
}